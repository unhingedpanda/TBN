# Case Management System - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database connection URL
# For PostgreSQL (recommended for production):
# DATABASE_URL=postgresql://username:password@localhost:5432/case_management
#
# For SQLite (development/testing):
DATABASE_URL=sqlite:///./case_management.db

# =============================================================================
# SLACK CONFIGURATION
# =============================================================================

# Slack Bot Token (xoxb-...) - Required for Slack integration
# Get this from: https://api.slack.com/apps -> Your App -> OAuth & Permissions -> Bot User OAuth Token
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token-here

# Slack Signing Secret - Required for webhook verification
# Get this from: https://api.slack.com/apps -> Your App -> Basic Information -> App Credentials -> Signing Secret
SLACK_SIGNING_SECRET=your-slack-signing-secret-here

# Slack Channel IDs - Required for notifications
# Get these by right-clicking channels in Slack -> Copy -> Copy link (the ID is after /archives/)
SUPPORT_SLACK_CHANNEL=C1234567890  # Channel for support notifications
ALERTING_SLACK_CHANNEL=C1234567890  # Channel for escalation alerts
LOGGING_SLACK_CHANNEL=C1234567890   # Channel for case closure logs

# Admin User IDs - Required for case closure detection
# Get these by mentioning users in Slack (e.g., @username) and checking the message source
ADMIN_SLACK_IDS=U1234567890,U9876543210  # Comma-separated list of Slack user IDs

# =============================================================================
# EMAIL CONFIGURATION (IMAP)
# =============================================================================

# IMAP server settings
IMAP_SERVER=imap.gmail.com
IMAP_PORT=993
IMAP_EMAIL=your-email@example.com
IMAP_PASSWORD=your-app-password-here

# Email polling settings
EMAIL_POLL_INTERVAL=30  # Seconds between email checks

# Admin email addresses for case closure detection
# Comma-separated list of email addresses that can close cases
ADMIN_EMAILS=admin1@company.com,admin2@company.com

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Server configuration
HOST=0.0.0.0
PORT=8000

# Debug mode (set to true for development, false for production)
DEBUG=false

# Escalation check interval (seconds)
ESCALATION_CHECK_INTERVAL=300  # 5 minutes

# =============================================================================
# SLACK API SETTINGS (Optional - defaults shown)
# =============================================================================

# Slack API retry settings for rate limiting
SLACK_MAX_RETRIES=3
SLACK_RETRY_BASE_DELAY=1.0  # seconds
SLACK_RETRY_MAX_DELAY=60.0  # seconds

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual values above
# 3. For Slack setup:
#    - Create a Slack app at https://api.slack.com/apps
#    - Add bot token scope: chat:write
#    - Subscribe to message.channels events
#    - Install app to your workspace
# 4. For email setup (Gmail example):
#    - Enable 2FA on your Google account
#    - Generate an App Password: https://support.google.com/accounts/answer/185833
#    - Use the App Password as IMAP_PASSWORD
# 5. Run the application: python -m app.main
